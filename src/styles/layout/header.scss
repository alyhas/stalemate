@import '../tokens';
@import '../typography';
@import '../grid'; // For using container or row/col if needed

// Main Application Header
.app-header {
  background-color: $primary-color; // Example: Use primary color for header background
  color: #fff; // White text on primary background
  padding: $spacing-md 0; // Vertical padding, no horizontal padding if using a container inside
  box-shadow: $box-shadow; // Add a subtle shadow for depth
  // position: fixed; // Uncomment if a fixed header is desired
  // top: 0;
  // left: 0;
  // right: 0;
  // z-index: 1030; // Ensure it's above other content if fixed

  // Container for content within the header to align with page layout
  .container, .container-fluid {
    display: flex;
    align-items: center;
    justify-content: space-between; // Example: Logo on left, nav/actions on right
  }

  // Site Title / Logo area
  .header-brand {
    // font-size: $font-size-xl; // Applied to h1 directly
    // font-weight: $font-weight-bold; // Applied to h1 directly
    // color: #fff; // Applied to h1 directly
    text-decoration: none;
    margin-right: $spacing-lg; // Space between brand and navigation

    h1 {
      font-size: $font-size-xl;
      font-weight: $font-weight-bold;
      color: #fff;
      margin: 0; // Remove default h1 margin
      line-height: 1.2; // Adjust line height for large font size if needed
    }

    &:hover {
      // Hover effect can be on h1 if it's the link, or on .header-brand if it's a wrapper link
      h1 {
        color: darken(#fff, 10%); // Slightly darken on hover
      }
    }
  }

  // Navigation within header
  .header-nav {
    ul {
      list-style: none;
      padding-left: 0;
      margin-bottom: 0;
      display: flex; // Align nav items horizontally
      align-items: center;
    }

    li {
      margin-left: $spacing-md; // Spacing between nav items
    }

    a {
      color: #fff; // Nav link color
      text-decoration: none;
      font-size: $font-size-base;
      padding: $spacing-sm $spacing-xs; // Padding for clickable area

      &:hover, &.active {
        color: darken(#fff, 15%); // Darken on hover or for active link
        // border-bottom: 2px solid #fff; // Example active/hover indicator
      }
    }
  }

  // Header actions (e.g., user profile, buttons)
  .header-actions {
    display: flex;
    align-items: center;

    // span { // Old style for direct span, now replaced by .connection-status-indicator
    //   font-size: $font-size-sm;
    //   color: $light-gray;
    // }

    .connection-status-indicator {
      display: flex;
      align-items: center;
      padding: $spacing-xs $spacing-sm;
      border-radius: $border-radius;
      // background-color: rgba(255,255,255, 0.08); // Optional: subtle background on dark header
      // transition for potential background color changes, though not strictly needed if only icon/text color changes
      transition: background-color $default-transition-duration $default-transition-timing-function;


      .connection-status-icon {
        margin-right: $spacing-xs;
        font-size: $font-size-lg; // e.g., 20px if base is 16px
        // Default color will be #fff from .app-header, specific state colors below
      }

      .connection-status-text {
        font-size: $font-size-sm;
        font-weight: $font-weight-normal;
        // Default color will be #fff from .app-header unless overridden by states
      }

      // Styles for "connected" state
      &.connected {
        // background-color: rgba($success-color, 0.1); // Optional: very subtle bg
        .connection-status-icon {
          color: $success-color; // Use a themeable success color, e.g., var(--success-color-on-primary)
                                 // For now, assuming $success-color is visible enough on $primary-color header
                                 // Or, use a light green if $success-color is dark: lighten($success-color, 30%)
        }
        .connection-status-text {
          // color: $success-color; // Text color, ensure contrast with header background
          // If header is dark blue, and $success-color is dark green, this won't be visible.
          // Keep default #fff from .app-header, or use a light variant of success.
          // For now, relying on default #fff from .app-header for text.
        }
      }

      // Styles for "disconnected" state
      &.disconnected {
        // background-color: rgba($danger-color, 0.1); // Optional: very subtle bg
        .connection-status-icon {
          color: $danger-color; // Use a themeable danger color, e.g., var(--danger-color-on-primary)
                                // Or, use a light red if $danger-color is dark: lighten($danger-color, 20%)
        }
        .connection-status-text {
          // color: $danger-color; // Text color, ensure contrast
          // Relying on default #fff from .app-header for text.
        }
      }
    }

    .btn { // Style buttons in header if needed
      margin-left: $spacing-sm;
    }
    // Example: User profile link/dropdown
    .user-profile {
      margin-left: $spacing-md;
      // Style for user avatar, name, etc.
    }
  }
}

// Responsive considerations for header (example)
@media (max-width: $breakpoint-md) {
  .app-header {
    .container, .container-fluid {
      flex-direction: column; // Stack elements vertically on smaller screens
      align-items: flex-start;
    }

    .header-brand {
      margin-bottom: $spacing-sm; // Add space below brand when stacked
    }

    .header-nav {
      width: 100%; // Make nav take full width
      ul {
        flex-direction: column; // Stack nav items
        align-items: flex-start;
      }
      li {
        margin-left: 0;
        margin-bottom: $spacing-xs; // Space between stacked nav items
        width: 100%;
      }
      a {
        display: block; // Make links full width for easier tapping
        padding: $spacing-sm 0;
      }
    }

    .header-actions {
      width: 100%;
      margin-top: $spacing-sm;
      // Adjust layout of actions if needed
    }
  }
}
