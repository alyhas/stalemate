@import '../tokens'; // To access base non-color SCSS variables like $border-radius

// Dark Theme SCSS Variable Definitions
// These define the actual color values for the dark theme.
$primary-color-dark: #0d6efd; // Example: Bootstrap's primary, can be adjusted
$secondary-color-dark: #7a8691; // Lighter than base for better contrast on dark
$success-color-dark: #20c997; // A lighter, more vibrant green for dark mode
$danger-color-dark: #f85959;  // A lighter, more vibrant red
$warning-color-dark: #ffda6a; // A lighter yellow
$info-color-dark: #22b8cf;   // A lighter cyan/info

$background-color-main-dark: #121212; // Very dark gray for main page background
$surface-color-dark: #1e1e1e;       // Slightly lighter for cards, panels, dialogs
$text-color-dark: #e0e0e0;           // Light gray for text on main background
$text-on-surface-dark: #f5f5f5;      // Even lighter for text on surface elements
$text-muted-color-dark: #868e96;       // Muted text in dark theme
$text-color-headings-dark: #f5f5f5;   // Headings might be brighter

$border-color-dark: #3a3f44; // Darker, but visible border
// Shadows need to be rethought for dark mode, often lighter or different spread
$box-shadow-sm-dark: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.3); // Darker, more subtle
$box-shadow-dark: 0 0.5rem 1rem rgba(0, 0, 0, 0.4);
$box-shadow-lg-dark: 0 1rem 3rem rgba(0, 0, 0, 0.5);


.theme-dark {
  color-scheme: dark; // Informs browser about the theme, affects form controls etc.

  // Core Colors
  --primary-color: #{$primary-color-dark};
  --secondary-color: #{$secondary-color-dark};
  --success-color: #{$success-color-dark};
  --danger-color: #{$danger-color-dark};
  --warning-color: #{$warning-color-dark};
  --info-color: #{$info-color-dark};

  // Backgrounds & Surfaces
  --background-color-main: #{$background-color-main-dark};
  --surface-color: #{$surface-color-dark};

  // Text Colors
  --text-color: #{$text-color-dark};
  --text-on-surface-color: #{$text-on-surface-dark};
  // --text-muted-color: #{$text-muted-color-dark}; // Old single
  --text-muted-on-bg-color: #{$text-muted-color-dark}; // Use the same value for both for now
  --text-muted-on-surface-color: #{$text-muted-color-dark}; // As it has good contrast on both dark bg/surface
  --text-color-headings: #{$text-color-headings-dark};

  // Borders
  --border-color: #{$border-color-dark};

  // Non-color tokens (usually don't change with theme, but set for completeness if ever needed)
  --border-radius: #{$border-radius}; // from tokens.scss
  --border-radius-lg: calc(#{$border-radius} * 2); // from tokens.scss
  --border-width: #{$border-width};   // from tokens.scss

  --box-shadow-sm: #{$box-shadow-sm-dark};
  --box-shadow: #{$box-shadow-dark};
  --box-shadow-lg: #{$box-shadow-lg-dark};

  // Input specific colors for dark theme
  --input-background-color: #{$surface-color-dark}; // Inputs on dark theme often use surface color
  --input-text-color: #{$text-on-surface-dark};
  --input-border-color: #{$border-color-dark};
  --input-focus-border-color: #{lighten($primary-color-dark, 20%)}; // Lighter focus for dark mode
  --input-focus-box-shadow: 0 0 0 0.2rem #{rgba($primary-color-dark, 0.35)}; // More subtle shadow
  --input-placeholder-color: #{darken($text-on-surface-dark, 40%)}; // Darker placeholder text

  // Specific component colors for dark theme
  --dialog-bg-color: var(--surface-color);
  --dialog-border-color: var(--border-color);
  --media-background-color: #000; // Video player background usually stays black
  --media-border-color: var(--border-color);

  // Activity Indicator colors for dark theme
  --audio-pulse-inactive-color: #{lighten($border-color-dark, 10%)};
  --audio-pulse-low-color: #{$primary-color-dark};
  --audio-pulse-medium-color: #{$warning-color-dark};
  --audio-pulse-high-color: #{$danger-color-dark};

  // Tooltip
  --tooltip-bg-color: #{$surface-color-dark};
  --tooltip-text-color: #{$text-on-surface-dark};

  --border-color-soft: #{darken($border-color-dark, 5%)}; // Darken the dark theme border color

  // Interactive States (derived for dark theme)
  --primary-color-hover: #{lighten($primary-color-dark, 7.5%)};
  --primary-color-active: #{lighten($primary-color-dark, 10%)};
  --primary-color-focus-shadow: #{rgba($primary-color-dark, 0.35)}; // Using a more visible shadow for dark primary

  --secondary-color-hover: #{lighten($secondary-color-dark, 7.5%)};
  --secondary-color-active: #{lighten($secondary-color-dark, 10%)};

  --success-color-hover: #{lighten($success-color-dark, 7.5%)};
  --success-color-active: #{lighten($success-color-dark, 10%)};

  --danger-color-hover: #{lighten($danger-color-dark, 7.5%)};
  --danger-color-active: #{lighten($danger-color-dark, 10%)};

  --warning-color-hover: #{lighten($warning-color-dark, 7.5%)}; // Warning text is already dark in dark.scss, so lighten bg
  --warning-color-active: #{lighten($warning-color-dark, 10%)};

  --info-color-hover: #{lighten($info-color-dark, 7.5%)};
  --info-color-active: #{lighten($info-color-dark, 10%)};

  // General surface interactions for dark theme
  --surface-hover-color: #{rgba(255,255,255,0.05)};
  --surface-active-color: #{rgba(255,255,255,0.08)};
  --surface-selected-color: #{mix($primary-color-dark, $surface-color-dark, 30%)}; // Adjust mix for dark

  // Text on colored backgrounds (dark theme defaults)
  --text-color-on-primary: #{$text-on-surface-dark}; // Usually high contrast, e.g., very light or white
  --text-color-on-secondary: #{$text-on-surface-dark};
  --text-color-on-success: #{$background-color-main-dark}; // Dark text on light green
  --text-color-on-danger: #{$background-color-main-dark};  // Dark text on light red
  --text-color-on-warning: #{$background-color-main-dark};
  --text-color-on-info: #{$background-color-main-dark};

  --text-color-on-primary-hover: #{darken($text-on-surface-dark, 15%)}; // Assuming text on primary is light (e.g. text-on-surface)
  --surface-hover-on-primary: #{rgba(0,0,0,0.2)}; // If primary-color-dark is light, this darkens; if primary-color-dark is dark, this is subtle on top.
                                                  // Let's assume $primary-color-dark is a relatively saturated color, so a semi-transparent black overlay is a decent hover.

  // Removed SCSS variable redefinitions like `$primary-color: var(--primary-color);`
  // Components should use `var(--css-custom-property)` for theming.
}
